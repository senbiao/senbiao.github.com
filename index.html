<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
   
<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
     
  
  <title>周森标博客</title>
  <meta name="keywords" content="周森标,周森标博客,森标,森标的博客,senbiao blog,java,php,python,IT,云计算 undefined undefined" />
    <meta name="description" content="周森标个人的IT技术博客，记录技术学习过程，研究过程，记录生活的感悟" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="周森标博客|周森标|森标|森标的博客|senbiao&apos;s blog">
<meta property="og:type" content="website">
<meta property="og:title" content="周森标博客">
<meta property="og:url" content="http://senbiao.org/index.html">
<meta property="og:site_name" content="周森标博客">
<meta property="og:description" content="周森标博客|周森标|森标|森标的博客|senbiao&apos;s blog">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="周森标博客">
<meta name="twitter:description" content="周森标博客|周森标|森标|森标的博客|senbiao&apos;s blog">
  
  
    <link rel="icon" href="/img/favicon.png">
  
  <!--引用ICSCSS-->
  <link href="http://cdn.besdlab.cn/icecss/icecss.min.css" rel="stylesheet" type="text/css">
      <script src="http://cdn.besdlab.cn/jquery/2.1.1/jquery.2.1.1.min.js"></script>
      <script src="http://cdn.besdlab.cn/icecss/icecss.js"></script>
      <script src="http://cdn.besdlab.cn/icecss/plugin/ice_click.js"></script>
      <script>
      ice_click.init();
      </script>
  <link rel="stylesheet" href="/css/style.css">
  
</head>
<body>
  <div id="container">
    <div id="wrap">
      <style>
.widget{
  background: none; 
 -webkit-box-shadow: none; 
box-shadow: none;
-webkit-border-radius:0px; 
border-radius: 0px; 
}
  .ice-main-nav{
    background: url("/img/ice-icon-menu.svg") no-repeat center center;
  }
 .ice-menu-logo a:hover{
    background: none;
  }

      @media only screen and (min-width: 768px) {
     .ice-main-nav {
         width: auto;
         height: auto;
         background: none;
         cursor: auto;
     }
   }
</style>
<header class="ice-menu ice-menu-hover">
<div class="ice-menu-logo" style="font-family:'Microsoft YaHei'">
 
     <a href="http://zhousenbiao.com"><img src="/img/logo.png" style="height:100%"></a>
     <style>
       .ice-menu-logo{
    background: none;
  }</style>
     

</div>

<nav class="ice-main-nav">
<ul>

          <li><a href="/">Home</a></li>
        
          <li><a href="/archives">Archives</a></li>
        
          <li><a href="/guestbook">GuestBook</a></li>
        
          <li><a href="/about">About</a></li>
        
          <li><a href="/sitemap.xml">SiteMap</a></li>
        
          <li><a href="/atom.xml">Rss</a></li>
        
</ul>
</nav>
</header> 
      <div class="outer">
        <section id="main">
  
    <article id="post-cloudstack-Source-framework-analysis" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/CloudStack/cloudstack-Source-framework-analysis.html" class="article-date">
  <time datetime="2016-04-18T06:05:23.000Z" itemprop="datePublished">2016-04-18</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/CloudStack/">CloudStack</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/CloudStack/cloudstack-Source-framework-analysis.html">cloudstack源码架构解析，二次开发必备</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>适用于cloudstack二次开发的源码结果分析，及开发流程说明</p>
<iframe width="738" height="523" class="preview-iframe" scrolling="no" frameborder="0" src="http://download.csdn.net/source/preview/5188846/36b32768b091d2cb52b7959fedb8281e"></iframe>


<p>转自<a href="http://download.csdn.net/detail/dunglaslee/5188846" target="_blank" rel="external">http://download.csdn.net/detail/dunglaslee/5188846</a></p>

      
    </div>
    <footer class="article-footer">
     

      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/">java</a></li></ul>

    </footer>
  </div>
  
</article>
  
  
    <article id="post-from-wordpress-to-hexo" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/summary/from-wordpress-to-hexo.html" class="article-date">
  <time datetime="2016-04-15T08:16:02.000Z" itemprop="datePublished">2016-04-15</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/summary/">summary</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/summary/from-wordpress-to-hexo.html">from wordpress to hexo</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <pre><code>自己搭建独立博客，最简单的总结就是两个字，折腾。
我从2012年开始了博客折腾之路，貌似漫长，其实中间因为两个字，懒惰，导致写博客的状态是断断续续，并且质量不高。博客折腾的历程，从所使用的程序来看，是由wordpress开始，转typecho，再转回wordpress，转hexo。wordpress自然不必说，强大，之所以转typecho是主要是因为好奇、而且typecho非常轻量，整个程序才几兆，后来typecho官方不更新了，久而久之自己也懒了，又开始感觉wordpress才是王道，转回wordpress一直用到去年底，某天突然发现博客访问不了了，但wp-admin.php后台能进，猜想是模板什么地方出问题了吧，还是因为懒，没去细究，就这样一直放着，放了好几个月了，最近突然想起来不能再这样荒废下去了，我要重新勤奋起来！
之前就接触过基于node.js的静态博客hexo，这次我决定不再用那几百块一年的虚拟主机了，尽管还有大半年才到期。周末花时间一阵折腾，于是我正式把博客转到了hexo！！！这里简单记录一下hexo的折腾过程。
1.安装篇
</code></pre><p>安装Git<br>下载 msysgit 并执行即可完成安装。<br>安装Node.js<br>在 Windows 环境下安装 Node.js 非常简单，仅须下载安装文件并执行即可完成安装。<br>安装hexo<br>利用 npm 命令即可安装。（在任意位置点击鼠标右键，选择Git bash）</p>
<p>npm install -g hexo<br>额外参考：：：<br>1.安装brewhome，一句话搞定<br>ruby -e “$(curl -fsSL <a href="https://raw.github.com/Homebrew/homebrew/go/install)”" target="_blank" rel="external">https://raw.github.com/Homebrew/homebrew/go/install)”</a><br>2.0 安装nodejs<br>2.1 第一种方式，brewhome安装，一句话搞定<br>brew install node<br>2.2 第二种方式，前提是已经安装好Xcode和git，安装git方法在下面介绍<br>git clone git://github.com/joyent/node.gitcd node<br>./configure<br>make<br>sudo make install<br>2.3 第三种方式，下载源码( <a href="http://nodejs.org/download/" target="_blank" rel="external">http://nodejs.org/download/</a> )，编译执行同上 </p>
<p>2.本地运行<br>创建hexo文件夹<br>安装完成后，在你喜爱的文件夹下（如H:\hexo），执行以下指令(在H:\hexo内点击鼠标右键，选择Git bash)，Hexo 即会自动在目标文件夹建立网站所需要的所有文件。</p>
<p>hexo init</p>
<p>安装依赖包</p>
<p>npm install</p>
<p>本地查看</p>
<p>现在我们已经搭建起本地的hexo博客了，执行以下命令(在H:\hexo)，然后到浏览器输入localhost:4000看看。</p>
<p>hexo generate<br>hexo server</p>
<p>3.部署</p>
<p>编辑_config.yml(在H:\hexo下)。你在部署时，要把下面的zippera都换成你的账号名。</p>
<p>deploy:<br>  type: github<br>  repository: <a href="https://github.com/senbiao/senbiao.github.io.git" target="_blank" rel="external">https://github.com/senbiao/senbiao.github.io.git</a><br>  branch: master</p>
<p>据说最新版本的hexo 中，这里的 type 要写成 git，而不是 github。<br>执行下列指令即可完成部署。</p>
<p>hexo generate<br>hexo deploy</p>
<p>注意：有些新用户需要设置 ssh，否则上述命令会失败。ssh 的介绍和设置方法请看官方教程，不用担心，很简单。<br>记住：每次修改本地文件后，需要hexo generate才能保存。每次使用命令时，都要在H:\hexo目录下。</p>
<p>4.技巧</p>
<p>遇到什么其他的问题，不妨删除.deploy 和db.json 再重新生成试一试。<br>tips<br>hexo现在支持更加简单的命令格式了，比如：<br>hexo g == hexo generate<br>hexo d == hexo deploy<br>hexo s == hexo server<br>hexo n == hexo new<br>其他Tips</p>
<p>有的时候当你修改页面或更改配置后发现并没有立即生效，可以执行hexo clean然后再启动hexo server。<br>默认的评论组件可能并不太适合中国大陆用户（你懂的。。），你可以选择性的换成别的组件，或主题，比如我用的多说评论以及Pacman主题。<br>参与开源项目很简单，你只需要学会使用Git以及Github，遇到bug或任何程序问题可以递交issue，当然如果你有能力自己解决问题或可以为Hexo开发新的功能，那么请pull request。</p>
<p>hexo可能更新过了,所以老的hexo可能会报错:<br>{ [Error: Cannot find module ‘./build/Release/DTraceProviderBindings’] code: ‘MODULE_NOT_FOUND’ }<br>{ [Error: Cannot find module ‘./build/default/DTraceProviderBindings’] code: ‘MODULE_NOT_FOUND’ }<br>{ [Error: Cannot find module ‘./build/Debug/DTraceProviderBindings’] code: ‘MODULE_NOT_FOUND’ }<br>解决办法：<br>先执行： npm uninstall hexo<br>再执行： npm install hexo –no-optional</p>
<p>从Wordpress转移过来的，写了一段时间之后，文章全部在那里面，如果一篇篇的复制粘贴那工作量就太大了。好在Hexo提供了Wordpress插件，可以一次性把wordpress数据导入到Hexo博客，html文件都转换成了Markdown文件，非常的方便，有图片的更改一下图片的路径就好了。</p>
<p>首先导出wordpress数据，得到的回事一个xml格式的文件，先把这个复制到Hexo文件夹下，假设文件是wordpress.xml。<br>安装好wordpress插件，再使用迁移命令就可以实现从Wordpress到Hexo的转移。</p>
<p>npm install hexo-migrator-wordpress –save<br>hexo migrate wordpress wordpress.xml</p>
<p>额，不知道是不是有人跟我一样有一个库没有README.md文件就浑身不舒服的强迫症= =<br>正如大家所知道的，在source文件夹下的所有md文件都会被hexo渲染成html文件，导致README.md文件不能好好的放在里面了，即使是添加了layout: false依然没有用。<br>不过现在有一个另外的好办法，那就是利用主题的source目录，也就是themes/themes-name/source。因为这个文件夹里面的所有文件都会被复制到网站的根目录中去，也就是说，如果在里面放上README，就可以正常的存在于网站的主目录了。<br>同样的，对于一些需要在网站下添加html文件的需求也可以这样来达成。比如百度或者谷歌在验证站长权限的时候，通常都会要求在主目录下添加一个html文件。同样的，只要把这个文件放在themes/themes-name/source就可以搞定了。</p>
<p>5.问题解决</p>
<p>（1）<br>git push -u origin master<br>(gnome-ssh-askpass:20853): Gtk-WARNING **: cannot open display:</p>
<p>unset SSH_ASKPASS</p>
<p>（2）git rm 误删文件找回方法<br>git rm a.txt ，误将a.txt删除后找回方法：</p>
<ol>
<li>git log 找到离没删文件前最近的commit id</li>
<li>将操作过的其它文件转移</li>
<li>git reset –hard “commit id”</li>
</ol>
<p>（3）git操作</p>
<p>#添加当前修改的文件到暂存区<br>git add .  </p>
<p>#如果你自动追踪文件，包括你已经手动删除的，状态为Deleted的文件<br>git add -u  </p>
<p>#提交你的修改<br>git commit –m “你的注释”  </p>
<p>#推送你的更新到远程服务器,语法为 git push [远程名] [本地分支]:[远程分支]<br>git push origin master  </p>
<p>#查看文件状态<br>git status  </p>
<p>（4）<br>[git@AYZ github01]$ git push -u origin master<br>error: The requested URL returned error: 403 Forbidden while accessing <a href="https://github.com/iopqrst/learn20140823.git/info/refs" target="_blank" rel="external">https://github.com/iopqrst/learn20140823.git/info/refs</a><br>在要推送项目的文件目录下：<br>vi .git/config</p>
<h1 id="将"><a href="#将" class="headerlink" title="将"></a>将</h1><p>[remote “origin”]<br>    url = <a href="https://github.com/iopqrst/learn20140823.git" target="_blank" rel="external">https://github.com/iopqrst/learn20140823.git</a><br>修改为：<br>[remote “origin”]<br>url = <a href="https://iopqrst@github.com/iopqrst/learn20140823.git" target="_blank" rel="external">https://iopqrst@github.com/iopqrst/learn20140823.git</a></p>
<p>（5）<br>git remote rm origin<br>git remote add origin git@github.com:Liutos/foobar.git<br>方法二：直接修改.git/config<br>注意事项</p>
<p>所有键的冒号后面留一个空格，如language: zh-CN  </p>
<p>url不能为空,否则报错  </p>
<p>type: github报错hexo ERROR Deployer not found: github的解决方法：<br>先运行 npm install hexo-deployer-git –save<br>再改为 type: git</p>
<p>1.导入『Wordpress数据』</p>
<p>　　开篇我说过我写博客的基本经历，是从Wordpress转移过来的，写了一段时间之后，文章全部在那里面，如果一篇篇的复制粘贴那工作量就太大了。好在Hexo提供了Wordpress插件，可以一次性把wordpress数据导入到Hexo博客，html文件都转换成了Markdown文件，非常的方便，有图片的更改一下图片的路径就好了。</p>
<p>首先导出wordpress数据，得到的回事一个xml格式的文件，先把这个复制到Hexo文件夹下，假设文件是wordpress.xml。</p>
<p>安装好wordpress插件，再使用迁移命令就可以实现从Wordpress到Hexo的转移。</p>
<p>npm install hexo-migrator-wordpress –savehexo migrate wordpress wordpress.xml</p>
<p>文／起今知行（简书作者）<br>原文链接：<a href="http://www.jianshu.com/p/739bf1305e66" target="_blank" rel="external">http://www.jianshu.com/p/739bf1305e66</a><br>著作权归作者所有，转载请联系作者获得授权，并标注“简书作者”。</p>
<p>hexo d，执行该命令，报错：</p>
<p>1<br>ERROR Deployer not found: git</p>
<p>执行命令：<br>npm install hexo-deployer-git –save，再次执行hexo d</p>
<p>升级至Hexo 3.0版本后，deploy报错</p>

      
    </div>
    <footer class="article-footer">
     

      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/hexo/">hexo</a></li></ul>

    </footer>
  </div>
  
</article>
  
  
    <article id="post-cloudstack-compile-single-module" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/CloudStack/cloudstack-compile-single-module.html" class="article-date">
  <time datetime="2015-10-15T00:53:42.000Z" itemprop="datePublished">2015-10-15</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/CloudStack/">CloudStack</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/CloudStack/cloudstack-compile-single-module.html">cloudstack二次开发——编译单个模块来升级系统</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>cloudstack二次开发中，当修改了代码时，需要重新编译，此时编译整个cloudstack尤为不便:</p>
<p><div><code>$ mvn clean</code></div></p>
<p><div><code>$ mvn install -Dnoredist</code></div><br>因此，考虑针对单个模块进行编译并替换到已安装的相关节点中，以cloudstack中的kvm模块为例：</p>
<p>首先，编译cloudstack中的kvm工程：</p>
<p><div><code>$ mvn clean</code></div></p>
<p><div><code>$ mvn -pl:cloud-plugin-hypervisor-kvm</code></div><br>然后，把plugins/hypervisors/kvm/target/下的cloud-plugin-hypervisor-kvm-4.2.1.jar 替换到安装KVM的agent节点中:/usr/share/cloudstack-agent/lib/cloud-plugin-hypervisor-kvm-4.2.1.jar，最后，重启一下agent节点。</p>
<p>至此，便已成功把kvm模块中修改过的部分更新到已部署好的cloudstack中了。</p>

      
    </div>
    <footer class="article-footer">
     

      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JAVA/">JAVA</a></li></ul>

    </footer>
  </div>
  
</article>
  
  
    <article id="post-cloudstack-debug-port" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/CloudStack/cloudstack-debug-port.html" class="article-date">
  <time datetime="2015-10-15T00:33:03.000Z" itemprop="datePublished">2015-10-15</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/CloudStack/">CloudStack</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/CloudStack/cloudstack-debug-port.html">cloudstack二次开发——配置Debug端口</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="1-manage"><a href="#1-manage" class="headerlink" title="1.manage:"></a><span style="font-size: 16px;">1.manage:</span></h2><p>vi /usr/sbin/tomcat6</p>
<p>-classpath “$CLASSPATH”  -Xrunjdwp:transport=dt_socket,address=8787,server=y,suspend=n\</p>
<p>2.agent:</p>
<p>vi /etc/init.d/cloudstack-agent</p>
<p>$JSVC -Xrunjdwp:transport=dt_socket,address=18787,server=y,suspend=n  -cp “$CLASSPATH” -pidfile “$PIDFILE” \</p>
<p>&nbsp;</p>
<p>&nbsp;</p>

      
    </div>
    <footer class="article-footer">
     

      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JAVA/">JAVA</a></li></ul>

    </footer>
  </div>
  
</article>
  
  
    <article id="post-cannot-open-file-etccloudstackmanagementtomcat6-conf" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/CloudStack/cannot-open-file-etccloudstackmanagementtomcat6-conf.html" class="article-date">
  <time datetime="2015-10-15T00:24:32.000Z" itemprop="datePublished">2015-10-15</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/CloudStack/">CloudStack</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/CloudStack/cannot-open-file-etccloudstackmanagementtomcat6-conf.html">cannot open file /etc/cloudstack/management/tomcat6.conf</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>修改tomcat，由于tomcat为了区分ssl和没有ssl,所以配置分为tomcat6-nonssl.conf和tomcat6-ssl.conf，需要把tomcat6<br>-nonssl.conf更改tomcat6.conf，否则启动会报没有tomcat6.conf文件错误</p>
<p>[root@manage5156 run]#cp /usr/share/cloudstack-management/conf/server-nonssl.xml /usr/share/cloudstack-management/conf/server.xml</p>
<p>[root@manage5156 run]#cp /etc/cloudstack/management/tomcat6-nonssl.conf<br>/etc/cloudstack/management/tomcat6.conf</p>

      
    </div>
    <footer class="article-footer">
     

      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JAVA/">JAVA</a></li></ul>

    </footer>
  </div>
  
</article>
  
  
    <article id="post-nfs-umount-e6-8f-90-e7-a4-ba-device-is-busy" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/CloudStack/nfs-umount-e6-8f-90-e7-a4-ba-device-is-busy.html" class="article-date">
  <time datetime="2015-10-12T18:34:36.000Z" itemprop="datePublished">2015-10-13</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/CloudStack/">CloudStack</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/CloudStack/nfs-umount-e6-8f-90-e7-a4-ba-device-is-busy.html">NFS umount 提示 device is busy </a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>[root@node11 SecStorage]# umount /mnt/SecStorage/</p>
<p>umount.nfs: /mnt/SecStorage: device is busy</p>
<p>umount.nfs: /mnt/SecStorage: device is busy</p>
<p>解决方法：</p>
<p>增加一个-l参数：umount  -l  /mnt/SecStorage</p>
<p>或者：</p>
<p>fuser -m -v /mnt/SecStorage</p>
<p>进程占用了，将其kill掉，再重新umount<br>kill -xxxx<br>umount  /mnt/SecStorage</p>

      
    </div>
    <footer class="article-footer">
     

      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JAVA/">JAVA</a></li></ul>

    </footer>
  </div>
  
</article>
  
  
    <article id="post-java-io" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/software/java-io.html" class="article-date">
  <time datetime="2015-09-19T23:52:42.000Z" itemprop="datePublished">2015-09-20</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/software/">software</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/software/java-io.html">java笔记——IO操作小结</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>1.FileWriter与BufferedWriter的区别</p>
<ol>
<li>FileWriter fw = new FileWriter(file);</li>
<li>BufferedWriter bw = new BufferedWriter (fw);</li>
<li>fw.write(“你好”);</li>
<li>fw.close();</li>
<li>fw.close();<br>这里有一个 “修饰类 “的概念<br>FileWriter   是被修饰者<br>BufferedWriter   是修饰者<br>一般用法为<br>BufferedWriter   bw   =   new   BufferedWriter(new   FileWriter( “filename “));<br>上面这个加了一个缓冲,缓冲写满后在将数据写入硬盘<br>这样做极大的提高了性能</li>
</ol>
<p>如果单独使用   FileWriter  也可以,你每写一个数据,硬盘就有一个写动作,性能极差</p>
<p>相同点：都是使用字符流写文件。<br>不同点：前者采用缓冲区，可以预读一些准备写入的数据，增加写入文件时的效率，<br>而后者则没有这个功能。具体的在BufferedWriter的API DOC中有说明。</p>
<p>2.写入txt文件出现乱码</p>
<p>windows自身采用的编码格式是gbk(而gbk和gb2312基本上是一样的编码方式),而IDE中Encode不修改的话，默认是utf-8的编码，这就是为什么会出现乱码的原因。当在OS下手工创建并写入的txt文件（gbk），用程序直接去读（utf-8），就会乱码。为了避免可能的中文乱码问题，最好在文件写入和读出的时候显式指定编码格式。</p>
<p>private static void readTxt() {<br>try {<br>File f1 = new File(“e:/qqgroup.txt”);// 打开文件<br>FileInputStream in = new FileInputStream(f1);<br>// 指定读取文件时以UTF-8的格式读取<br>BufferedReader br = new BufferedReader(new InputStreamReader(in,<br>“UTF-8”)); // 读取文件<br>String name = “”;<br>String numb = “”;<br>String str;</p>
<p>System.out.println(“群名<strong><strong><strong>*</strong></strong></strong>群号”);<br>while ((str = br.readLine()) != null) {<br>if (str.indexOf(“class=\”addrtitle\”&gt;”)&gt;-1) {<br>name = str.substring(str.indexOf(“&gt;”), str.indexOf(“&lt;/“));<br>System.out.println(“群名：” + name);<br>}<br>if (str.indexOf(“gid=”)&gt;-1) {<br>numb = str.substring(str.indexOf(“gid=”), str.indexOf(“@groupmail”));<br>System.out.println(“群号：” + numb);<br>}<br>}<br>in.close();// 关闭读取<br>} catch (Exception e1) {// 如果有错误，这里进行处理<br>e1.printStackTrace();// 打印错误信息<br>}<br>}</p>
<p>（1）写入乱码</p>
<p>File f = new File(filePathAndName);</p>
<p>OutputStreamWriter   w = new OutputStreamWriter(new FileOutputStream(f),”UTF-8”);            BufferedWriter   writer=new BufferedWriter(w);</p>
<p>writer.write(“file content”);</p>
<p>writer.flush();</p>
<p>writer.close();</p>
<p>（2）读取txt文件</p>
<p>File f = new File(“PathAndName”);</p>
<p>if(f.isFile()&amp;&amp;f.exists()){</p>
<p>InputStreamReader read = new InputStreamReader(new FileInputStream(f),”UTF-8”);             BufferedReader reader=new BufferedReader(read);</p>
<p>String line;</p>
<p>while ((line = reader.readLine()) != null) {</p>
<p>“file content” += line;</p>
<p>}</p>
<p>read.close();</p>
<p>}</p>
<p><code>File file = ``new</code> <code>File(``&quot;d:/1.txt&quot;``);</code></p>
<p><code>BufferedWriter bw = ``new</code> <code>BufferedWriter(``new</code> <code>FileWriter(file));</code></p>
<p><div><code> </code></div></p>
<p><div><code>``bw.write(``&quot;abc&quot;``);</code></div></p>
<p><div><code>``bw.newLine();</code></div></p>
<p><div><code>``bw.write(``&quot;efg&quot;``);</code></div></p>
<p><div><code> </code></div></p>
<p><div><code>``bw.flush();</code></div></p>
<p><div><code>``bw.close();</code></div><br>3.字符流的写入写出</p>
<p><code>``File file=``new</code> <code>File(``&quot;F:\\io\\abc.txt&quot;``);</code></p>
<p><div><code>``FileOutputStream fos=``new</code> <code>FileOutputStream(file);</code></div></p>
<p><div><code>``OutputStreamWriter osw=``new</code> <code>OutputStreamWriter(fos);</code></div></p>
<p><div><code>``osw.write(``&#39;大&#39;``);</code></div></p>
<p><div><code>``osw.close();</code></div></p>
<p><div><code>``FileInputStream fis=``new</code> <code>FileInputStream(file);</code></div></p>
<p><div><code>``InputStreamReader isr=``new</code> <code>InputStreamReader(fis);</code></div></p>
<p><div><code>``System.out.println((``char``)isr.read());</code></div></p>
<p><div><code>``isr.close();</code></div><br>&nbsp;</p>
<p>&nbsp;</p>

      
    </div>
    <footer class="article-footer">
     

      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JAVA/">JAVA</a></li></ul>

    </footer>
  </div>
  
</article>
  
  
    <article id="post-centos6-yum-svn-subversion" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/操作系统/centos6-yum-svn-subversion.html" class="article-date">
  <time datetime="2015-09-19T01:13:14.000Z" itemprop="datePublished">2015-09-19</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/操作系统/">操作系统</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/操作系统/centos6-yum-svn-subversion.html">CentOS6下yum方式安装svn客户端subversion(亲测可用)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>目前找到一个当下能用的yum源，进行快速安装subversion</p>
<p>在 /etc/yum.repos.d/ 创建源文件 wandisco-svn1.8.repo<br>[WANdisco]<br>name=WANdisco SVN Repo 1.8<br>enabled=1<br>baseurl=<a href="http://opensource.wandisco.com/rhel/6/svn-1.8/RPMS/" target="_blank" rel="external">http://opensource.wandisco.com/rhel/6/svn-1.8/RPMS/</a><br>gpgcheck=1<br>gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-WANdisco</p>
<p>然后导入GPG-KEY<br>wget <a href="http://opensource.wandisco.com/RPM-GPG-KEY-WANdisco" target="_blank" rel="external">http://opensource.wandisco.com/RPM-GPG-KEY-WANdisco</a><br>rpm –import RPM-GPG-KEY-WANdisco</p>
<p>再进行安装：<br>yum update<br>yum -y install subversion</p>
<p>&nbsp;</p>

      
    </div>
    <footer class="article-footer">
     

      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CentOS/">CentOS</a></li></ul>

    </footer>
  </div>
  
</article>
  
  
    <article id="post-java-code-block" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/software/java-code-block.html" class="article-date">
  <time datetime="2015-02-04T21:11:08.000Z" itemprop="datePublished">2015-02-05</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/software/">software</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/software/java-code-block.html">温故而知新之java代码片段</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>1.检测Java代码的执行时间<br>long startTime=System.currentTimeMillis();</p>
<p>//获取开始时间，单位是毫秒ms。若需取纳秒ns，则System.nanoTime();  doSomeThing();</p>
<p>//需要检测的代码段</p>
<p>long endTime=System.currentTimeMillis();</p>
<p>//获取结束时间</p>
<p>System.out.println(“运行时间： “+(endTime-startTime)+”ms”);</p>
<p>2.数组打印出来<br>// List&lt;String&gt;类型的列表</p>
<p>List&lt;String&gt; list = new ArrayList&lt;String&gt;();</p>
<p>list.add(“First”);  list.add(“Second”);</p>
<p>System.out.println(list);<br>//Array类输出数组</p>
<p>String[] array = new String[] { “First”, “Second” };  System.out.println(Arrays.toString(array));<br>//使用Arrays.deepToString()输出数组的数组</p>
<p>String[] arr1 = new String[] { “One”, “Two” };</p>
<p>String[] arr2 = new String[] { “Three”, “Four” };</p>
<p>String[][] arrayOfArray = new String[][] { arr1, arr2 };</p>
<p>//输出</p>
<p>System.out.println(arrayOfArray);</p>
<p>System.out.println(Arrays.toString(arrayOfArray));</p>
<p>System.out.println(Arrays.deepToString(arrayOfArray));</p>

      
    </div>
    <footer class="article-footer">
     

      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/">java</a></li></ul>

    </footer>
  </div>
  
</article>
  
  
    <article id="post-productratingstruct" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/设计模式/productratingstruct.html" class="article-date">
  <time datetime="2015-01-16T01:35:32.000Z" itemprop="datePublished">2015-01-16</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/设计模式/">设计模式</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/设计模式/productratingstruct.html">产品等级结构与产品族</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>在理解抽象工厂模式之前，先了解两个概念：<br>1.产品等级结构：产品等级结构即产品的继承结构，例如一个抽象类是冰箱，其子类有海尔冰箱、TCL冰箱，则抽象冰箱与具体品牌的冰箱之间构成了一个产品等级结构，抽象冰箱是父类，而具体品牌的冰箱是其子类。这是从纵向的角度来看。<br>2.产品族：在抽象工厂模式中，产品族是指由同一个工厂生产的，位于不同产品等级结构中的一组产品，例如海尔电器工厂生产的海尔电视、海尔冰箱，海尔电视位于电视产品等级结构中，海尔冰箱位于冰箱产品结构中，海尔电视、海尔冰箱构成了一个产品族。这是从横向的角度来看。<br>当系统所提供的工厂生产的具体产品并不是一个简单的对象，而是多个位于不同产品等级结构、属于不同类型的具体产品时，就可以使用抽象工厂模式。<br>抽象工厂模式与工厂方法模式的区别在于，工厂方法模式针对的是一个产品等级结构，而抽象工厂模式需要面对多个产品等级结构，一个工厂等级结构可以负责多个不同产品等级结构中的产品对象的创建。当一个工厂等级结构可以创建出分属不同产品等级结构的一个产品族中的所有对象时，抽象工厂模式比工厂方法模式更为简单和有效。</p>

      
    </div>
    <footer class="article-footer">
     

      
    </footer>
  </div>
  
</article>
  
  
  
    <nav id="page-nav">
      <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/10/">10</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
    </nav>
  
</section>
        
          <aside id="sidebar">

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/CloudStack/">CloudStack</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Erlang开发/">Erlang开发</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Phalcon/">Phalcon</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/software/">software</a><span class="category-list-count">24</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/summary/">summary</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/开源框架/">开源框架</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/操作系统/">操作系统</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/数据库/">数据库</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/游戏开发/">游戏开发</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/生活随记/">生活随记</a><span class="category-list-count">14</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/网络分享/">网络分享</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/网络营销/">网络营销</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/设计模式/">设计模式</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/读书笔记/">读书笔记</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/软件开发/">软件开发</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/风云印象/">风云印象</a><span class="category-list-count">5</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/NET/">.NET</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/">C++</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CentOS/">CentOS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Design-pattern/">Design-pattern</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Erlang/">Erlang</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/IT名人堂/">IT名人堂</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JAVA/">JAVA</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySql/">MySql</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PHP/">PHP</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SQL/">SQL</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/android-游戏开发/">android 游戏开发</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/eclipse/">eclipse</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java/">java</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vb-net/">vb.net</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/webservice/">webservice</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/人物/">人物</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/服务器/">服务器</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/电脑问题/">电脑问题</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/网站建设/">网站建设</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/设计模式/">设计模式</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/软件/">软件</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/NET/" style="font-size: 10px;">.NET</a> <a href="/tags/C/" style="font-size: 12.5px;">C++</a> <a href="/tags/CentOS/" style="font-size: 10px;">CentOS</a> <a href="/tags/Design-pattern/" style="font-size: 10px;">Design-pattern</a> <a href="/tags/Erlang/" style="font-size: 12.5px;">Erlang</a> <a href="/tags/IT名人堂/" style="font-size: 12.5px;">IT名人堂</a> <a href="/tags/JAVA/" style="font-size: 15px;">JAVA</a> <a href="/tags/MySql/" style="font-size: 15px;">MySql</a> <a href="/tags/PHP/" style="font-size: 20px;">PHP</a> <a href="/tags/SQL/" style="font-size: 10px;">SQL</a> <a href="/tags/android-游戏开发/" style="font-size: 10px;">android 游戏开发</a> <a href="/tags/eclipse/" style="font-size: 10px;">eclipse</a> <a href="/tags/hexo/" style="font-size: 10px;">hexo</a> <a href="/tags/java/" style="font-size: 17.5px;">java</a> <a href="/tags/vb-net/" style="font-size: 10px;">vb.net</a> <a href="/tags/webservice/" style="font-size: 10px;">webservice</a> <a href="/tags/人物/" style="font-size: 10px;">人物</a> <a href="/tags/服务器/" style="font-size: 12.5px;">服务器</a> <a href="/tags/电脑问题/" style="font-size: 15px;">电脑问题</a> <a href="/tags/网站建设/" style="font-size: 10px;">网站建设</a> <a href="/tags/设计模式/" style="font-size: 12.5px;">设计模式</a> <a href="/tags/软件/" style="font-size: 10px;">软件</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">四月 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">十月 2015</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/09/">九月 2015</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/02/">二月 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/01/">一月 2015</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/12/">十二月 2014</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/06/">六月 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/04/">四月 2014</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/01/">一月 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/12/">十二月 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/11/">十一月 2013</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/10/">十月 2013</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/09/">九月 2013</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/08/">八月 2013</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/07/">七月 2013</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/06/">六月 2013</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/05/">五月 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/04/">四月 2013</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/03/">三月 2013</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/02/">二月 2013</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/01/">一月 2013</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/12/">十二月 2012</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/10/">十月 2012</a><span class="archive-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/CloudStack/cloudstack-Source-framework-analysis.html">cloudstack源码架构解析，二次开发必备</a>
          </li>
        
          <li>
            <a href="/summary/from-wordpress-to-hexo.html">from wordpress to hexo</a>
          </li>
        
          <li>
            <a href="/CloudStack/cloudstack-compile-single-module.html">cloudstack二次开发——编译单个模块来升级系统</a>
          </li>
        
          <li>
            <a href="/CloudStack/cloudstack-debug-port.html">cloudstack二次开发——配置Debug端口</a>
          </li>
        
          <li>
            <a href="/CloudStack/cannot-open-file-etccloudstackmanagementtomcat6-conf.html">cannot open file /etc/cloudstack/management/tomcat6.conf</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">LINKS</h3>
    <div class="widget">
    <ul>
     
          <li><a href="/">Home</a></li>
        
          <li><a href="/archives">Archives</a></li>
        
          <li><a href="http://baidu.com">Baidu</a></li>
        
          <li><a href="http://ijuer.com/">巨二博客</a></li>
        
          <li><a href="http://www.ihuaihuai.com/">坏坏博客</a></li>
        
          <li><a href="http://www.lyblog.net/">刘洋的博客</a></li>
        
          <li><a href="http://upliu.net/">刘静的博客</a></li>
        
          <li><a href="/links">Links</a></li>
        
        </ul>
    </div>
  </div>

  

</aside>


        
      </div>
      <footer style="color:#fff;">
  
  <div class="ice-div ice-div-1-1" style="height:60px;background: #2c3d4f;line-height:60px;padding-left:20px">
  	Powered by <a href="http://hexo.io/">Hexo</a> Theme by <a href="http://www.besdlab.cn">BESD</a>
  </div>
</footer>
    </div>
    

  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>