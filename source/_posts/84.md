---
title: 使纯文本自动转换为Web网页的方法（用php实现）
tags:
  - PHP
id: 84
categories:
  - software
date: 2013-12-31 23:56:19
---

如何将纯文本自动转换为Web网页？以下是使用php语言进行实现的方法。

首先是把纯ASCII文件读取到一个PHP数组中。通过file()函数可以完成，这个函数会把文件的每一行都转换成为一个用数字索引的数组中的元素。然后，标题和作者行(假设这两个都是文件的前两行)都通过array_shift()函数从数组里提取出来，放到单独的变量里。数组剩下的成员然后连接成一个字符串。这个字符串现在就包括了整篇文章的正文。文章正文里像&ldquo;'&rdquo;、&ldquo;&lt;&rdquo;和&ldquo;&gt;&rdquo;这样的特殊符号通过htmlspecialchars()函数被转换成相应的HTML符号。为了保留文章的原始格式，分行和分段通过nl2br()函数被转换成HTML的元素。文章中间多个空格通过简单的字符串替换被压缩成为一个空格。

文章正文里的URL用正则表达式来检测，两边是元素。当页面在Web浏览器里显示的时候，它会把URL转换成为可点击的超链接。

然后用标准的HTML规则创建输出的HTML页面。文章的标题、作者和正文都用CSS样式规则格式化。尽管这段脚本没有这样做，但是你可以在这个地方自定义最终页面的外观，你可以向模板添加图形元素、颜色或者其他眩目的内容。

一旦HTML页面构建完成，它就可以被送到浏览器或者用file_put_contents()保存为静态文件。要注意的是，在保存的时候，原来的文件名会被分解，一个新的文件名(叫做filename.html)会为新创建的Web页面创建。然后就可以把这个Web页面发布到Web服务器上、保存到光盘上或者对它进行进一步编辑。

注意：在使用这个脚本创建和保存HTML文件到磁盘的时候，要确保这个脚本对文件保存的目录有写权限。

若有标准格式的ASCII纯文本数据文件，你可以相当迅速用PHP把它转换成为可使用的Web页面。如果你已经有了一个Web网站，并计划把新的Web页面加入进来，那么调试页面生成器所使用的模板，使之适应原有Web网站的外观是相当容易的。
